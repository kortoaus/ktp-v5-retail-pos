# Terminal & Users

> Terminal 식별 방식과 사용자 계정 운영 방법입니다.

---

## Terminal 등록

각 POS terminal은 로컬 네트워크의 **IP 주소**로 식별됩니다. 앱이 시작되면 terminal의 IP를 자동 감지하여 server로 전송합니다.

Server가 IP 주소와 일치하는 등록된 terminal을 찾습니다. 일치하는 항목이 없으면 **"Not Registered Terminal"**이 표시됩니다 — server에서 먼저 terminal을 추가해야 합니다.

### Terminal이 불러오는 정보

연결이 되면 terminal은 다음을 로드합니다:
- **Terminal 정보** — 이름, IP 주소
- **회사 정보** — 사업자명, ABN, 주소
- **Store settings** — surcharge 비율, 영수증 하단 문구
- **현재 shift** — 이 terminal에 열린 shift이 있는 경우

---

## 사용자 계정

### 로그인

많은 작업에 사용자 로그인이 필요합니다. 시스템은 간단한 **코드 기반 로그인**을 사용합니다 — 각 사용자에게 고유한 숫자 코드가 있습니다.

로그인이 필요할 때:
1. Numpad를 사용하여 코드를 입력합니다
2. 시스템이 코드를 조회하여 로그인합니다
3. 이름이 표시되고 작업을 진행할 수 있습니다

Home 화면으로 돌아가면 시스템이 현재 사용자를 **자동으로 로그아웃**합니다.

### 사용자 필드

| 필드 | 설명 |
|------|------|
| Name | 표시 이름 (한국어 지원) |
| Code | 고유 숫자 로그인 코드 |
| Scopes | 권한 — 이 사용자가 할 수 있는 작업 ([Permissions Reference](./18-permissions.md) 참조) |
| Archived | 비활성화된 사용자는 로그인할 수 없습니다 |

### 규칙

- 사용자 code는 활성(비아카이브) 사용자 중에서 고유해야 합니다
- **Admin 사용자** (ID 1)는 편집하거나 삭제할 수 없습니다
- Archive된 사용자는 로그인할 수 없지만 감사 이력을 위해 데이터가 보존됩니다
- 사용자 생성 또는 편집에는 **user** 권한이 필요합니다

---

## 사용자 관리

1. Home 화면에서 **User Management**를 누릅니다.
2. 로그인이 필요합니다 (**user** 권한 필요).

### 사용자 생성

1. 상단 바에서 **New**를 누릅니다.
2. 화면 키보드를 사용하여 **Name**을 입력합니다.
3. Numpad를 사용하여 **Code**를 입력합니다.
4. 이 사용자의 권한 체크박스를 선택합니다.
5. **Create**를 누릅니다.

### 사용자 편집

1. 왼쪽 목록에서 사용자를 누릅니다.
2. 오른쪽에 해당 사용자의 정보가 표시됩니다.
3. 변경 후 **Update**를 누릅니다.

### 사용자 Archive

1. 사용자를 선택합니다.
2. **Archived** 스위치를 켭니다.
3. **Update**를 누릅니다.

해당 사용자는 더 이상 로그인할 수 없지만 시스템에 남아 있습니다.

---

## 검색

사용자 목록 위의 검색 바를 사용하여 이름이나 code로 사용자를 찾을 수 있습니다. **Search** 버튼을 눌러 적용합니다 — 입력 중에 자동으로 검색되지 않습니다.
